# 数字货币技术理论课实验报告

## 小组成员

-2021131132-方妤心 （组长）
-2021131126-熊灵欣
-2021131127-王一迪
-2021131130-谭明月
-2021131159-张锭航

## 代码仓库链接

https://github.com/fangyuxin2002/blockchain-in-js-workshop-2021



## 第一课代码


### 代码 commint 地址

https://github.com/fangyuxin2002/blockchain-in-js-workshop-2021/blob/benben-trees


### 代码截图

链接: https://pan.baidu.com/s/1NnlUPIaGnrU3RRZh9_amAA?pwd=g1sc 提取码: g1sc 


### 主观与讨论题内容

---



## 第二课代码


### 代码 commint 地址

https://github.com/fangyuxin2002/blockchain-in-js-workshop-2021/blob/benben-trees

### 代码截图

链接: https://pan.baidu.com/s/1NnlUPIaGnrU3RRZh9_amAA?pwd=g1sc 提取码: g1sc


### 主观与讨论题内容

如果将例子中的字母扩展成字母和数字的形式，该如何实现？

1. 修改节点的数据结构：将节点的数据结构中的字符类型改为字符或数字类型，这样可以支持字母和数字的存储。

2. 修改节点的子节点指针：将节点的子节点指针从指向字符类型的节点改为指向字符或数字类型的节点，这样可以支持字母和数字的查找。

3. 修改插入和查询算法：在插入和查询算法中，需要将字符的比较改为字符或数字的比较，以支持字母和数字的插入和查询。

4. 考虑字符集的大小：如果字符集的大小很大，比如包含所有的字母和数字，那么可以考虑使用哈希表来存储节点的子节点，以提高插入和查询的效率。

5. 考虑编码方式：如果字符集的大小很大，可以考虑使用编码方式来压缩存储空间。例如，可以使用Unicode编码来表示字符和数字，这样可以将字符和数字压缩成一个整数，从而减少存储空间的使用。


如何设计可以提高查询效率？

1. 压缩节点：如果某个节点只有一个子节点，那么可以将该节点和子节点合并成一个节点，这样可以减少树的深度，提高查询效率。

2. 去除无用节点：如果某个节点没有对应的值，那么可以直接删除该节点，这样可以减少树的大小，提高查询效率。

3.优化查询算法：可以使用深度优先搜索或广度优先搜索等算法来优化查询效率。在搜索过程中，可以根据查询的关键字来快速定位到对应的节点，从而提高查询效率。

4. 压缩路径：如果某个节点的所有子节点都只有一个子节点，那么可以将该节点和子节点合并成一个节点，这样可以压缩路径，提高查询效率。

5. 使用哈希表：在字典树的实现中，可以使用哈希表来存储节点的子节点，这样可以快速地定位到对应的子节点，从而提高查询效率。



## 第三课代码


### 代码 commint 地址

https://github.com/fangyuxin2002/blockchain-in-js-workshop-2021/blob/benben-trees


### 代码截图

链接: https://pan.baidu.com/s/1NnlUPIaGnrU3RRZh9_amAA?pwd=g1sc 提取码: g1sc

### 主观与讨论题内容

基于字典树，以太坊做了哪些改良？

以太坊的改良是基于Merkle Patricia Trie（MPT）数据结构，而不是基于字典树。MPT是一种基于前缀树的数据结构，它将键值对存储在树形结构中，以便快速地进行查找和验证。

与传统的字典树不同，MPT使用哈希函数来计算每个节点的哈希值，将其存储在节点中。这种方式可以保证树的完整性和安全性，防止节点被篡改或者删除。同时，MPT支持动态修改和更新，可以在不影响整个树的情况下进行节点的添加、删除和修改操作。

以太坊使用MPT作为其状态存储的数据结构，这意味着所有的账户、合约和交易数据都存储在MPT中。这种方式可以保证以太坊网络的安全性和可靠性，同时提高了以太坊的性能和扩展性。

总之，以太坊选择MPT作为其数据结构的改良，是为了保证以太坊网络的安全性和可靠性，同时提高了以太坊的性能和扩展性。

MPT想要解决的核心问题是什么？

Merkle Patricia Trie（MPT）的设计是为了解决以太坊中的状态存储问题。以太坊中存储着所有账户、合约和交易数据，这些数据需要被快速、可靠地访问和验证。

MPT的核心问题是在保证树的完整性和安全性的前提下，提高树的访问效率和存储效率。在传统的前缀树中，每个节点包含了所有子节点的引用，这种方式会导致存储空间的浪费和访问效率的降低。而MPT使用哈希函数来计算每个节点的哈希值，将其存储在节点中，这种方式可以保证节点的完整性和安全性，同时减少了存储空间的浪费和访问效率的降低。

另外，MPT还解决了动态修改和更新的问题。在传统的前缀树中，一旦树的结构建立，就无法进行动态修改和更新。而MPT允许在不影响整个树的情况下进行节点的添加、删除和修改操作，这种方式可以保证以太坊网络的灵活性和可扩展性。

因此，MPT的核心问题是如何在保证树的完整性和安全性的前提下，提高树的访问效率和存储效率，并且允许动态修改和更新。

---
